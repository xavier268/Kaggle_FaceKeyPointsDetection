---
title: "5.Predicting using image PCA"
output: 
  html_document:
    toc: yes
params:
  env: "dataLoaded.RData"
---

# Predicting based on the im.pca structures ?

*Started on `r date()`*

## Loading the data

We load from the compiled, preformatted data saved earlier.
We also define the random seed for repeatability.

```{r Loading environement}
set.seed(56)
load("im.pca.RData")
load("d.train.RData")
ls() 
```

## Predicting the nose position ?

```{r}
sort(cor(im.pca.pcs, d.train[,"nose_tip_x"]))
sort(cor(im.pca.pcs, d.train[,"nose_tip_y"]))
```

... not a huge correlation ...

Let's see how a linear model would do ?

```{r}
g <- glm(d.train[1:1000,"nose_tip_y"] ~ . ,
         data=as.data.frame(im.pca.pcs[1:1000,])
        )

pred <- predict(g, newdata = as.data.frame(im.pca.pcs[1000:2000,]))
plot(d.train[1000:2000,"nose_tip_y"],pred, asp=1.)
lines(x=c(40,80), y=c(40,80), col="red")

g <- glm(d.train[1:1000,"nose_tip_y"] ~ . ,
         data=as.data.frame(im.pca.pcs[1:1000,])
        )

pred <- predict(g, newdata = as.data.frame(im.pca.pcs[1000:2000,]))
plot(d.train[1000:2000,"nose_tip_y"],pred, asp=1.)
lines(x=c(40,80), y=c(40,80), col="red")

```

Clearly, not a good direction !!
;-(

## Cleaning and saving

Nothing to save at this stage.


*This file was compiled on  `r date()`*
