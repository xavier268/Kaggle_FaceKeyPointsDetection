---
title: "8.Evaluation"
output: 
  html_document:
    toc: yes
params:
  env: "dataLoaded.RData"
---

# Evaluating predictions

*Started on `r date()`*


## Loading the data

We load from the compiled, preformatted data saved earlier.
We also define the random seed for repeatability.

```{r}
set.seed(56)
load(file = params$env)
ls() 
```

## Define the error function

The error function takes predictions, and return the RSME between predictions and corresponding training data. Predictions should be provided in the same format than training data. The lengths must match.

** NE MARCHE PAS **

```{r}
predictions.RMSE<- function(predictions, training) {
  sum(rowSums((predictions[,1:30] - training[,1:30])^2)) / nrow(predictions)
}
```

So basic testing :

```{r}
predictions.RMSE(d.train,d.train) # should be 0
```

## Cleaning and saving

We save everything, **except** params !

```{r Saving environment}
veryunlikelyname <- ls()
veryunlikelyname <- veryunlikelyname[veryunlikelyname!= "params"]
save(list=veryunlikelyname,file=params$env)
rm(veryunlikelyname)
ls()
```


*This file was compiled on  `r date()`*

